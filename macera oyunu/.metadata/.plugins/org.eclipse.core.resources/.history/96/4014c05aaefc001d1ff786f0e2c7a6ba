package location.BattleLoc;

import java.util.Scanner;

import location.Location;
import monster.Monster;
import player.Inventory;
import player.Player;

public abstract class BattleLoc extends Location{

	static Monster monster;
	
	
	public BattleLoc() {}
	
	public BattleLoc(Player player, Monster monster) {
		super(player);
		BattleLoc.monster = monster;
	}
	

	
	Scanner scanner = new Scanner(System.in);
	
	public void battleLocation(Monster m, int mN) throws Exception{
		
		if(mN == 1) {
			fightOrFlight(mN, m);
			String savasYADAkac = scanner.nextLine();
			switch (savasYADAkac) {
			case "s": {
				int counter = 0;
				for(int i=0; i<mN; i++) {
					setHealthyZombieVampireBear(m);
					combat(m);
					System.out.println(m.getName()+ " Ã¶ldÃ¼ !");
					counter ++;
				}
				moneyEarnedFromMonsters(counter, m);
				isZombieOrVampireOrBear(m);
				break;
			}
			case "k": {
				System.out.println("ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£");
				selectLocation();
				break;
			}
			default:
				System.out.println("YanlÄ±ÅŸ seÃ§im yaptÄ±n !!!");
				battleLocation(m, mN);
			}
		}
		else if (mN == 2) {
			fightOrFlight(mN, m);
			String savasYADAkac = scanner.nextLine();
			switch (savasYADAkac) {
			case "s": {
				int counter = 0;
				for(int i=0; i<mN; i++) {
					setHealthyZombieVampireBear(m);
					combat(m);
					System.out.println(m.getName()+ " Ã¶ldÃ¼ !");
					counter ++;
				}
				moneyEarnedFromMonsters(counter, m);
				isZombieOrVampireOrBear(m);
				break;
			}
			case "k": {
				System.out.println("ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£");
				selectLocation();
				break;
			}
			default:
				System.out.println("YanlÄ±ÅŸ seÃ§im yaptÄ±n !!!");
				battleLocation(m, mN);
			}
		}
		else if(mN == 3){
			fightOrFlight(mN, m);
			String savasYADAkac = scanner.nextLine();
			switch (savasYADAkac) {
			case "s": {
				int counter = 0;
				for(int i=0; i<mN; i++) {
					setHealthyZombieVampireBear(m);
					combat(m);
					System.out.println(m.getName()+ " Ã¶ldÃ¼ !");
					counter ++;
				}
				moneyEarnedFromMonsters(counter, m);
				isZombieOrVampireOrBear(m);
				break;
			}
			case "k": {
				System.out.println("ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£ ðŸ‘£");
				selectLocation();
				break;
			}
			default:
				System.out.println("YanlÄ±ÅŸ seÃ§im yaptÄ±n !!!");
				battleLocation(m, mN);
			}
		}
	}
	
	
	
	public void fightOrFlight(int mN, Monster m) {
		System.out.println(mN + " adet " + m.getName() + " gÃ¶rÃ¼nÃ¼yor. " + mN +" adet " + m.getName() + " ile savaÅŸabilecek misin yoksa kaÃ§acak mÄ±sÄ±n ?");
		System.out.println("SavaÅŸmak istiyorsan s'ye bas, kaÃ§mak istiyorsan k'ye bas");
	}
	
	
	public void setHealthyZombieVampireBear(Monster m) {
		if(m.getName().equals("Zombie")) {
			m.setHealthy(10);						
		}else if(m.getName().equals("Vampire")) {
			m.setHealthy(14);
		}else if(m.getName().equals("Bear")) {
			m.setHealthy(20);
		}
	}
	
	
	public void combat(Monster m) throws Exception {
		System.out.println("âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”âš”ï¸âš”âš”");
		System.out.println();
		System.out.println("CanavarÄ±n mevcut canÄ±: " + m.getHealthy());
		System.out.println("Senin mevcut canÄ±n: " + getPlayer().getHealthy());
		scanner.nextLine();

		while (m.getHealthy()>0&&getPlayer().getHealthy()>0) {
			System.out.print(getPlayer().getName() + " saldÄ±rÄ±yor   >>>>>>>>>>");
			m.setHealthy(m.getHealthy()-getPlayer().getDamage());
			if(m.getHealthy()<=0) {
				System.out.print(" CanavarÄ±n kalan canÄ±: 0");
				System.out.println("   ----------   Senin kalan canÄ±n: " + getPlayer().getHealthy());
				scanner.nextLine();
			}else {
				System.out.print(" CanavarÄ±n kalan canÄ±: " + m.getHealthy());
				System.out.println("   ----------   Senin kalan canÄ±n: " + getPlayer().getHealthy());
				scanner.nextLine();
			}
			
			if(m.getHealthy()<=0) {
				System.out.print("TEBRÄ°KLER ");
				break;
			}
			
			System.out.print(m.getName() + " saldÄ±rÄ±yor <<<<<<<<<<");
			System.out.print(" CanavarÄ±n kalan canÄ±: " + m.getHealthy());
			getPlayer().setHealthy(getPlayer().getHealthy()-m.getDamage());
			System.out.println("   ----------   Senin kalan canÄ±n: " + getPlayer().getHealthy());
			scanner.nextLine();
			
			if(getPlayer().getHealthy()<=0) {
				System.out.println("!!!!!!!!!!!!!!!!     ðŸ’€    Ã–LDÃœNÃœZ     ðŸ’€    !!!!!!!!!!!!!!!!");
				throw new Exception("Ã–LDÃœNÃœZ. OYUN BÄ°TTÄ°");
			}
		}
	}
	
	
	//Ã–LDÃœRÃœLEN CANAVARLARDAN KAZANILAN PARAYI SET ETME METODU
	public void moneyEarnedFromMonsters(int counter, Monster m) {
		System.out.println(counter + " adet " + m.getName() + " Ã¶ldÃ¼rdÃ¼n. KazandÄ±ÄŸÄ±n para: " + (m.getMoney()*counter));
		getPlayer().setMoney((getPlayer().getMoney())+(m.getMoney()*counter));
		System.out.println("ðŸ’² Mevcut paran: " + getPlayer().getMoney());
	}
	
	
	//CANAVAR TÃœRÃœNE GÃ–RE KAZANILAN MALZEMEYÄ° SET EDECEK METODU Ã‡AÄžIRMA
	public void isZombieOrVampireOrBear(Monster m) {
		if(m.getName().equals("Zombie")) {
			this.isFood();
		}
		else if(m.getName().equals("Vampire")) {
			this.isFirewood();
		}
		else if(m.getName().equals("Bear")) {
			this.isWater();
		}
	}
	
	
	//KAZANILAN YEMEÄžÄ° SET ETME METODU
	public void isFood() {
		if(getPlayer().getHealthy()>0) {
			System.out.println("***** ðŸ— KARÅžINA Ã‡IKAN TÃœM ZOMBÄ°LERÄ° Ã–LDÃœRDÃœN VE YEMEK KAZANDIN ðŸ— *****");
			Inventory.setFood(true);
		}
	}
	//KAZANILAN ODUNU SET ETME METODU
	public void isFirewood() {
		if(getPlayer().getHealthy()>0) {
			System.out.println("***** ðŸªµ KARÅžINA Ã‡IKAN TÃœM VAMPÄ°RLERÄ° Ã–LDÃœRDÃœN VE YAKACAK ODUN KAZANDIN ðŸªµ *****");
			Inventory.setFirewood(true);
		}
	}
	//KAZANILAN SUYU SET ETME METODU
	public void isWater() {
		if(getPlayer().getHealthy()>0) {
			System.out.println("***** ðŸ’§ KARÅžINA Ã‡IKAN TÃœM AYILARI Ã–LDÃœRDÃœN VE SU KAZANDIN ðŸ’§ *****");
			Inventory.setWater(true);
		}
	}
	
	
}