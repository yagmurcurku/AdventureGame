package location.normalLoc;

import java.util.Scanner;

import player.Inventory;
import player.Player;

public class ToolStore extends NormalLoc{

	
	public ToolStore(Player player) {
		super(player);
	}

	Scanner scanner = new Scanner(System.in);
	
	@Override
	public void onLocation() throws Exception {
		setLocationName("eÅŸya maÄŸazasÄ±");
		setLocationNumber(2);
		
		System.out.println("EÅŸya maÄŸazasÄ±na hoÅŸgeldin. ");
		System.out.println("ğŸ”« Silah almak istiyorsan 1'e bas, ğŸ›¡ zÄ±rh almak istiyorsan 2'ye bas");
		int weaponOrArmor = scanner.nextInt();
		
		
		if(weaponOrArmor == 1) {
			System.out.println("<<<<< ğŸ”« SÄ°LAHLAR ğŸ”« >>>>>");
			System.out.println("TABANCA --> Hasar : 2,  Ãœcret : 25");
			System.out.println("KILIÃ‡   --> Hasar : 3,  Ãœcret : 35");
			System.out.println("TÃœFEK   --> Hasar : 7,  Ãœcret : 45");
			scanner.nextLine();
			System.out.println("ğŸ’² Mevcut paran: " + getPlayer().getMoney());
			scanner.nextLine();
			System.out.println("Hangi silahÄ± almak istiyorsun ?");
			System.out.println("1: Tabanca");
			System.out.println("2: KÄ±lÄ±Ã§");
			System.out.println("3: TÃ¼fek");
			
			
			
			int weaponSelection = scanner.nextInt();
			
			switch (weaponSelection) {
			case 1: {
				Inventory inventory1 = new Inventory();
				inventory1.setWeaponName("Tabanca");
				inventory1.setWeaponDamage(2);
				inventory1.setWeaponMoney(25);
				weapon(inventory1);
				break;
			}
			case 2: {
				Inventory inventory2 = new Inventory();
				inventory2.setWeaponName("KÄ±lÄ±Ã§");
				inventory2.setWeaponDamage(3);
				inventory2.setWeaponMoney(35);
				weapon(inventory2);
				break;
			}
			case 3: {
				Inventory inventory3 = new Inventory();
				inventory3.setWeaponName("TÃ¼fek");
				inventory3.setWeaponDamage(7);
				inventory3.setWeaponMoney(45);
				weapon(inventory3);
				break;
			}
			default:
				System.out.println("YanlÄ±ÅŸ silah seÃ§imi");
				onLocation();
				
				//throw new Exception("YanlÄ±ÅŸ silah seÃ§imi !!!");
			}
		}
		
		else if (weaponOrArmor == 2) {
			System.out.println("<<<<< ğŸ›¡ ZIRHLAR ğŸ›¡ >>>>>");
			System.out.println("HAFÄ°F --> Engelleme : 1,  Ãœcret : 15");
			System.out.println("ORTA  --> Engelleme : 3,  Ãœcret : 25");
			System.out.println("AÄIR  --> Engelleme : 5,  Ãœcret : 40");
			scanner.nextLine();
			System.out.println("ğŸ’² Mevcut paran: " + getPlayer().getMoney());
			scanner.nextLine();
			System.out.println("Hangi zÄ±rhÄ± almak istiyorsun ?");
			System.out.println("1: Hafif");
			System.out.println("2: Orta");
			System.out.println("3: AÄŸÄ±r");
			
			int armorSelection = scanner.nextInt();
			
			switch (armorSelection) {
			case 1: {
				Inventory inventory1 = new Inventory();
				inventory1.setArmorName("Hafif");
				inventory1.setArmorDefance(1);
				inventory1.setArmorMoney(15);
				armor(inventory1);
				break;
			}
			case 2: {
				Inventory inventory2 = new Inventory();
				inventory2.setArmorName("Orta");
				inventory2.setArmorDefance(3);
				inventory2.setArmorMoney(25);
				armor(inventory2);
				break;
			}
			case 3: {
				Inventory inventory3 = new Inventory();
				inventory3.setArmorName("AÄŸÄ±r");
				inventory3.setArmorDefance(5);
				inventory3.setArmorMoney(40);
				armor(inventory3);
				break;
			}
			
			default:
				throw new Exception("YanlÄ±ÅŸ zÄ±rh seÃ§imi !!!");
			}
		}
		//YANLIÅ SEÃ‡Ä°M YAPILDIÄINDA NASIL BÄ°R DAHA SEÃ‡Ä°M YAPILIR ?????????
	}

	
	
	public void weapon (Inventory inventory) {
		if(getPlayer().getMoney()>=inventory.getWeaponMoney()) {
			getPlayer().setInventory(inventory);
			getPlayer().setMoney(getPlayer().getMoney()-inventory.getWeaponMoney());
			if(getPlayer().getCharacter()==1) {
				getPlayer().setDamage(5 + inventory.getWeaponDamage());
			}else if(getPlayer().getCharacter()==2) {
				getPlayer().setDamage(7 + inventory.getWeaponDamage());
			}else if(getPlayer().getCharacter()==3) {
				getPlayer().setDamage(8 + inventory.getWeaponDamage());
			}
			System.out.println("âœ” "+ inventory.getWeaponName() + "  alÄ±mÄ± baÅŸarÄ±lÄ± âœ”");
			System.out.println("ğŸ’² Kalan paran: " + getPlayer().getMoney());
			System.out.println("ğŸ›¡ Mevcut hasar gÃ¼cÃ¼n: " + getPlayer().getDamage());
		}else {
			System.out.println("âŒ Paran bu silaha yetmiyor âŒ");
		}
	}
	
	
	public void armor (Inventory inventory) {
		if(getPlayer().getMoney()>=inventory.getArmorMoney()) {
			getPlayer().setInventory(inventory);
			getPlayer().setMoney(getPlayer().getMoney()-inventory.getArmorMoney());
			getPlayer().setDefence(inventory.getArmorDefance());
			System.out.println("âœ” "+ inventory.getArmorName() + " zÄ±rh alÄ±mÄ± baÅŸarÄ±lÄ± âœ”");
			System.out.println("ğŸ’² Kalan paran: " + getPlayer().getMoney());
			System.out.println("ğŸ›¡ Mevcut savunma gÃ¼cÃ¼n: " + getPlayer().getDefence());
		}else {
			System.out.println("âŒ Paran bu zÄ±rha yetmiyor âŒ");
		}
	}
	
	
	
	
}
